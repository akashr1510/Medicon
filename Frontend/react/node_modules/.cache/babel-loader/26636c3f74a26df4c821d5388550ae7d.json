{"ast":null,"code":"var _jsxFileName = \"D:\\\\Workspaces\\\\React\\\\Final V T-2\\\\react\\\\react\\\\src\\\\component\\\\Appointment\\\\PatientDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport Footer from '../../Footer';\nimport DHeader from '../Doctor/DHeader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PatientDetails() {\n  _s();\n\n  // document.getElementById(\"test\").innerHTML='';\n  const [show, setShow] = useState(false);\n  const errorblock = document.getElementById(\"msg\");\n  const [Patient, setPatient] = useState({\n    email: '',\n    password: '',\n    firstName: '',\n    lastName: '',\n    address: '',\n    gender: '',\n    contact: '',\n    date: ''\n  });\n  const [Appointment, setAppointment] = useState({\n    appointId: '',\n    appointDate: '',\n    patientId: '',\n    doctorId: '',\n    paymentId: '',\n    prescriptionTitle: '',\n    prescriptionDetails: '',\n    appstatus: ''\n  });\n  const [newAppointment, setnewAppointment] = useState([]);\n  let {\n    id\n  } = useParams();\n  let {\n    id1\n  } = useParams();\n  useEffect(() => {\n    fetch('/Patient/findPatient/' + id).then(response => response.json()).then(response => {\n      // localStorage.setItem(\"docotor_id\", JSON.stringify(response['docotor_id']));\n      setPatient(response);\n    }, error => {\n      console.log(error);\n    });\n  }, []);\n  useEffect(() => {\n    fetch('/Appointment/findApp/' + id1).then(response => response.json()).then(response => {\n      // localStorage.setItem(\"docotor_id\", JSON.stringify(response['docotor_id']));\n      //console.log(response)\n      setAppointment(response);\n    }, error => {\n      console.log(error);\n    });\n  }, []);\n\n  const handleInput = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    console.log(name, value);\n    setAppointment({ ...Appointment,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetch('/Appointment/update', {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(Appointment)\n    }).then(response => {\n      if (response.ok) {\n        console.log(\"Done\");\n        setShow(false);\n      } else {\n        console.log(\"Failed to update fetch function in PAtientdetails component\");\n      }\n    }).catch(error => console.log(error.message));\n  };\n\n  const onEnterPress = e => {\n    if (e.keyCode == 13 && e.shiftKey == false) {\n      e.preventDefault();\n      this.myFormRef.submit();\n    }\n  };\n\n  const showHist = () => {\n    fetch('/Appointment/patHistory/' + id).then(response => response.json()).then(response => {\n      console.log(response);\n      setnewAppointment(response);\n      console.log(newAppointment);\n      setShow(true);\n    }, error => {\n      console.log(error);\n    });\n  };\n\n  const myClick = () => {\n    alert(\"Priscription Added\");\n  };\n\n  const handleCloseApp = e => {\n    e.preventDefault();\n    setAppointment({\n      appstatus: true\n    });\n    console.log(\"Appointment = :\" + Appointment.appstatus);\n    fetch('/Appointment/update', {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(Appointment)\n    }).then(response => {\n      if (response.ok) {\n        console.log(\"Done\");\n      } else {\n        console.log(\"Failed to update fetch function in PAtientdetails component\");\n      }\n    }).catch(error => console.log(error.message));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(DHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              style: {},\n              children: \"Patient Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n              style: {\n                border: 'solid',\n                width: 400,\n                padding: 20\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"First name : \", Patient.firstName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Last name : \", Patient.lastName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Gender : \", Patient.gender]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Email ID : \", Patient.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Birth Date :\", Patient.date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Contact : \", Patient.contact]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              name: \"\",\n              id: \"\",\n              class: \"btn btn-primary\",\n              to: \"#\",\n              role: \"button\",\n              onClick: showHist,\n              children: \" Show History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"btn btn-dark\",\n              onClick: handleCloseApp,\n              children: \"Close Appointment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              id: el => this.myFormRef = el,\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                style: {\n                  textAlign: 'center'\n                },\n                children: \"Add Priscription\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                style: {\n                  border: 'solid',\n                  width: 600,\n                  textAlign: 'center',\n                  margin: 'auto',\n                  padding: 20\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"\",\n                  class: \"form-label\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Title \\xA0 \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form\",\n                  name: \"prescriptionTitle\",\n                  id: \"\",\n                  placeholder: \"\",\n                  value: Appointment.prescriptionTitle,\n                  onChange: handleInput,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"\",\n                  class: \"form-label\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Detail \\xA0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 54\n                  }, this), \"  \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  type: \"textarea\",\n                  class: \"form\",\n                  name: \"prescriptionDetails\",\n                  id: \"\",\n                  placeholder: \"\",\n                  rows: \"8\",\n                  style: {\n                    width: 300\n                  },\n                  onKeyDown: onEnterPress,\n                  value: Appointment.prescriptionDetails,\n                  onChange: handleInput,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  class: \"btn btn-dark\",\n                  onClick: myClick,\n                  children: \"Submit Prescription\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), show ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"u\", {\n            children: [Patient.firstName, \"'s History \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          class: \"table table-default table-bordered table-responsive table-info\",\n          style: {\n            border: \"solid\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            class: \"thead-default\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \" Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"detail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 17\n          }, this), newAppointment.map(app => /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: app.appointId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: app.appointDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: app.prescriptionTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: app.prescriptionDetails\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 27\n              }, this)]\n            }, app.appointId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 23\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PatientDetails, \"924j7UuPaQY1mweEibOMfwsptGM=\", false, function () {\n  return [useParams, useParams];\n});\n\n_c = PatientDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"PatientDetails\");","map":{"version":3,"sources":["D:/Workspaces/React/Final V T-2/react/react/src/component/Appointment/PatientDetails.js"],"names":["React","useEffect","useState","useParams","Link","Footer","DHeader","PatientDetails","show","setShow","errorblock","document","getElementById","Patient","setPatient","email","password","firstName","lastName","address","gender","contact","date","Appointment","setAppointment","appointId","appointDate","patientId","doctorId","paymentId","prescriptionTitle","prescriptionDetails","appstatus","newAppointment","setnewAppointment","id","id1","fetch","then","response","json","error","console","log","handleInput","e","name","target","value","handleSubmit","preventDefault","method","headers","body","JSON","stringify","ok","catch","message","onEnterPress","keyCode","shiftKey","myFormRef","submit","showHist","myClick","alert","handleCloseApp","border","width","padding","el","textAlign","margin","map","app"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport Footer from '../../Footer';\r\n\r\nimport DHeader from '../Doctor/DHeader';\r\nexport default function PatientDetails() {\r\n  // document.getElementById(\"test\").innerHTML='';\r\n\r\n  const [show, setShow] = useState(false)\r\n  \r\n  const errorblock = document.getElementById(\"msg\")\r\n\r\n  const [Patient, setPatient] = useState({\r\n\r\n    email: '',\r\n    password: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    address: '',\r\n    gender: '',\r\n    contact: '',\r\n    date: '',\r\n  });\r\n  const [Appointment, setAppointment] = useState({\r\n\r\n    appointId: '',\r\n    appointDate: '',\r\n    patientId: '',\r\n    doctorId: '',\r\n    paymentId: '',\r\n    prescriptionTitle: '',\r\n    prescriptionDetails: '',\r\n    appstatus:''\r\n\r\n  });\r\n\r\n  const [newAppointment, setnewAppointment] = useState([]);\r\n\r\n  let { id } = useParams();\r\n  let { id1 } = useParams();\r\n\r\n  useEffect(() => {\r\n    fetch('/Patient/findPatient/' + id)\r\n      .then(response => response.json())\r\n      .then((response) => {\r\n        // localStorage.setItem(\"docotor_id\", JSON.stringify(response['docotor_id']));\r\n      \r\n        setPatient(response);\r\n\r\n      }, error => {\r\n        console.log(error);\r\n\r\n      }\r\n\r\n      );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetch('/Appointment/findApp/' + id1)\r\n      .then(response => response.json())\r\n      .then((response) => {\r\n        // localStorage.setItem(\"docotor_id\", JSON.stringify(response['docotor_id']));\r\n        //console.log(response)\r\n        setAppointment(response);\r\n\r\n      }, error => {\r\n\r\n        console.log(error);\r\n\r\n      }\r\n      );\r\n  }, []);\r\n\r\n\r\n  const handleInput = (e) => {\r\n\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    console.log(name, value);\r\n    setAppointment({ ...Appointment, [name]: value })\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    fetch('/Appointment/update', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(Appointment),\r\n    })\r\n      .then(response => {\r\n        if (response.ok) {\r\n          console.log(\"Done\")\r\n          setShow(false)\r\n        }\r\n        else {\r\n          console.log(\"Failed to update fetch function in PAtientdetails component\")\r\n        }\r\n\r\n\r\n      }).catch(error => console.log(error.message))\r\n  }\r\n\r\n  const onEnterPress = (e) => {\r\n    if (e.keyCode == 13 && e.shiftKey == false) {\r\n      e.preventDefault();\r\n      this.myFormRef.submit();\r\n    }\r\n  }\r\n\r\n\r\n  const showHist = () => {\r\n\r\n    fetch('/Appointment/patHistory/' + id)\r\n      .then(response => response.json())\r\n      .then((response) => {\r\n\r\n        console.log(response)\r\n        setnewAppointment(response);\r\n        console.log(newAppointment);\r\n        setShow(true)\r\n      }, error => {\r\n\r\n        console.log(error);\r\n\r\n\r\n      }\r\n\r\n      );\r\n  }\r\n\r\n  \r\n\r\n  const myClick = () => {\r\n\r\n    alert(\"Priscription Added\")\r\n    \r\n  }\r\n\r\n  const handleCloseApp = (e) => {\r\n    e.preventDefault();\r\n\r\n    setAppointment({appstatus: true })\r\n    console.log(\"Appointment = :\"+Appointment.appstatus)\r\n    fetch('/Appointment/update', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(Appointment),\r\n    })\r\n      .then(response => {\r\n        if (response.ok) {\r\n          console.log(\"Done\")\r\n        }\r\n        else {\r\n          console.log(\"Failed to update fetch function in PAtientdetails component\")\r\n        }\r\n\r\n\r\n      }).catch(error => console.log(error.message))\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n     \r\n    <DHeader/>\r\n   \r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div className=\"col-6\">\r\n\r\n\r\n            <form>\r\n              <br />\r\n              <h1 style={{}}>Patient Details</h1>\r\n              <br />\r\n              <fieldset style={{ border: 'solid', width: 400, padding: 20 }}>\r\n                <h4>First name : {Patient.firstName}</h4>\r\n                <h4>Last name : {Patient.lastName}</h4>\r\n                <h4>Gender : {Patient.gender}</h4>\r\n                <h4>Email ID : {Patient.email}</h4>\r\n                <h4>Birth Date :{Patient.date}</h4>\r\n                <h4>Contact : {Patient.contact}</h4>\r\n\r\n              </fieldset>\r\n              <br />\r\n              <Link name=\"\" id=\"\" class=\"btn btn-primary\" to=\"#\" role=\"button\" onClick={showHist}> Show History</Link>\r\n            </form>\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <div class=\"mb-3\">\r\n            <button type=\"submit\" class=\"btn btn-dark\" onClick={handleCloseApp}>Close Appointment</button>\r\n              <form onSubmit={handleSubmit} id={el => this.myFormRef = el}>\r\n                <br />\r\n                <h1 style={{ textAlign: 'center' }}>Add Priscription</h1>\r\n                <br />\r\n                <fieldset style={{ border: 'solid', width: 600, textAlign: 'center', margin: 'auto', padding: 20 }}>\r\n\r\n                  <label for=\"\" class=\"form-label\"> <h4>Title &nbsp; </h4></label>\r\n                  <input type=\"text\" class=\"form\" name=\"prescriptionTitle\" id=\"\" placeholder=\"\" value={Appointment.prescriptionTitle} onChange={handleInput} required />\r\n                  <br />\r\n                  <label for=\"\" class=\"form-label\" > <h4>Detail &nbsp;</h4>  </label>\r\n                  <textarea type=\"textarea\" class=\"form\" name=\"prescriptionDetails\" id=\"\" placeholder=\"\" rows='8' style={{ width: 300 }} onKeyDown={onEnterPress} value={Appointment.prescriptionDetails} onChange={handleInput} required />\r\n                  <br />\r\n\r\n                 \r\n\r\n                  <button type=\"submit\" class=\"btn btn-dark\" onClick={myClick}>Submit Prescription</button>\r\n                  \r\n                  {/* <Link name=\"\" id=\"\" class=\"btn btn-primary\" ti=\"\"  role=\"button\" onClick={myClick}> Add</Link> */}\r\n                </fieldset>\r\n              </form>\r\n              \r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n        <hr />\r\n\r\n\r\n        {\r\n          show ?\r\n\r\n\r\n            <div>\r\n              <h2 > <u>{Patient.firstName}'s History </u></h2>\r\n\r\n              <table class=\"table table-default table-bordered table-responsive table-info\" style={{ border: \"solid\" }} >\r\n                <thead class=\"thead-default\" >\r\n                  <tr>\r\n                    <th>ID</th>\r\n                    <th> Date</th>\r\n                    <th>Title</th>\r\n                    <th>detail</th>\r\n                  </tr>\r\n                </thead>\r\n\r\n                {\r\n                  newAppointment.map(\r\n                    (app) =>\r\n                      <tbody>\r\n                        <tr key={app.appointId}>\r\n                          <td>{app.appointId}</td>\r\n                          <td>{app.appointDate}</td>\r\n                          <td>{app.prescriptionTitle}</td>\r\n                          <td>{app.prescriptionDetails}</td>\r\n                        </tr>\r\n                      </tbody>\r\n\r\n                  )\r\n                }\r\n\r\n\r\n\r\n\r\n              </table>\r\n\r\n\r\n            </div>\r\n            : null\r\n        }\r\n      </div>\r\n        <Footer/>\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}